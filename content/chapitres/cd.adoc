[{invert}]
= "Continuous Everything"

== Livraison Continue

Continuous Delivery (CD)

== Pourquoi la Livraison Continue ?

* Diminuer les risque liés au déploiement
* Permettre de récolter des retours utilisateurs plus souvent
* Rendre l'avancement visible par *tous*

[quote, Mary and Tom Poppendieck]
____
How long would it take to your organization to deploy a change that
involves just one single line of code?
____

== Qu'est ce que la Livraison Continue ?

* Suite logique de l'intégration continue:
** Chaque changement est *potentiellement* déployable en production
** Le déploiement peut donc être effectué à *tout* moment

[quote, Martin Fowler]
____
Your team prioritizes keeping the software *deployable* over working on new features
____

[{invert}]
== !

La livraison continue est l'exercice de **mettre à disposition automatiquement** le produit logiciel pour qu'il soit prêt à être déployé à tout moment.

== Livraison Continue avec GitHub

* GitHub mets à disposition pour chaque repository un système de gestion de Releases

== Anatomie d'une Release GitHub

* Une release est associée à un tag git
* Porte un titre
* Un descriptif des changements
* Des tarballs du code source a cette version
* Et une collection d'assets arbitraires (des binaires compilés par exemple)

image::menu-server-releases.png[]

== Exercice: Créer une Release depuis le CI

Changez votre workflow de CI de façon à ce que sur un push de tag de version (portant un préfixe v), le CI effectue les tâches suivantes:

* Télécharge et décompresse l'artefact généré par le job `build`
* Créer une nouvelle release dans votre dépot ayant pour titre le nom du tag
* Upload `jar` de l'application dans cette release nouvellement créée.

On vous suggère d'utiliser les actions fournies par github:

* link:https://github.com/actions/download-artifact[Action Download Artifact]
* link:https://github.com/actions/upload-release-asset#example-workflow---upload-a-release-asset[Create Release & Upload Release asset]

== Déploiement Continu

Continuous Deployment

== Qu'est ce que le Déploiement Continu ?

* Version "avancée" de la livraison continue:
** Chaque changement *est* déployé en production, de manière *automatique*

== Continuous Delivery versus Deployment

image::continuous-depl-vs-delivery.jpg[caption=Continuous Delivery vs Deployment,width=700]

[.small]
Source : http://blog.crisp.se/2013/02/05/yassalsundman/continuous-delivery-vs-continuous-deployment

== Bénéfices du Déploiement Continu

** Un travail n'est pas fini tant qu'il n'est pas en production

== Qu'est ce qu'un Environement de Production?

== Introduction à Héroku

== Anatomie d'un Déploiement dans Heroku

== Example de Dockerfile pour Heroku

== Exercice: Créez et Lancez l'image Manuellement

== Exercice: Créez une application sur Heroku

== Exercice: Mise en Place du Déploiement Continu dans votre Workflow

== Pour aller plus loin...

* http://martinfowler.com/articles/continuousIntegration.html
* http://martinfowler.com/bliki/ContinuousDelivery.html
* https://jaxenter.com/implementing-continuous-delivery-117916.html
* https://technologyconversations.com/2014/04/29/continuous-delivery-introduction-to-concepts-and-tools/
* http://blog.arungupta.me/continuous-integration-delivery-deployment-maturity-model
* http://blog.crisp.se/2013/02/05/yassalsundman/continuous-delivery-vs-continuous-deployment
